var Jinba=function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i=n(4),s=n(1),a=n(7),o=n(6);t.exports={Request:i,Config:s,MeasureNetworkTiming:a,MeasureAjaxImages:o}},function(t,e,n){function i(){this.url="",this.sendTimeout=500}i.prototype={setUrl:function(t){this.url=t},setBatchTimeout:function(t){this.batchTimeout=t},setTransport:function(t){this.transport=t},getTransport:function(){return this.transport||n(2)}},i.getInstance=function(){return this._instance||(this._instance=new this),this._instance},t.exports=i},function(t,e,n){function i(t,e){if(!window||!window.JSON||!window.XMLHttpRequest)return void console.log("JinbaBrowserTransport is unavaliable, !window || !window.JSON || !window.XMLHttpRequest === true");if(!t)return void console.log("JinbaBrowserTransport url is empty");var n=JSON.stringify(e);if("undefined"==typeof navigator||!navigator.sendBeacon||!navigator.sendBeacon(t,n)){var i=new XMLHttpRequest;i.open("POST",t,!0),i.send(n)}}t.exports=i},function(t,e,n){function i(t,e,n){this.time_start=n?0:+new Date,this.time_end=0,this.name=t,this.tags=e||null,this.value=n||0}i.prototype={stop:function(){!this.time_end&&this.time_start&&(this.time_end=+new Date,this.value=this.time_end-this.time_start)},isActive:function(){return!this.time_end&&this.time_start},toJSON:function(){var t={name:this.name,value:this.value};return this.tags&&(t.tags=this.tags),t}},t.exports=i},function(t,e,n){function i(t,e){this.time_start=+new Date,this.time_end=0,this.name=t,this.tags=e||{},this.value=0,this.timers=[],this.timers_active=0,this._tmap={},this.status=i.ACTIVE}var s=n(5),a=n(3);i.ACTIVE=0,i.ABORTED=1,i.ENDED=2,i.SENDED=3,i.ERROR_STATUS_OK=0,i.ERROR_STATUS_FAIL=1,i.prototype={setName:function(t){this.name=t},setTimeStart:function(t){this.time_start=t},setTag:function(t,e){this.tags[t]=e},isActive:function(){return this.status===i.ACTIVE},abort:function(){for(var t=0,e=this.timers.length;e>t;t++)this.timers[t].stop();this.timers_active=0,this.status=i.ABORTED},end:function(t){this.status===i.ACTIVE&&(this.status=i.ENDED,0==arguments.length&&(t=i.ERROR_STATUS_OK),this.tags.errorStatus=t,this._end())},_end:function(){this.status!==i.ENDED||this.timers_active||(this.time_end=+new Date,this.value=this.time_end-this.time_start,this._send())},_send:function(){s.getInstance().push(this),this.status=i.SENDED},addMeasurement:function(t,e,n){var i=new a(t,n,e);this.timers.push(i)},startMeasurement:function(t,e,n){var i=new a(e,n);this.timers.push(i),this._tmap[t]=i,this.timers_active++},stopMeasurement:function(t,e){var n=this._tmap[t];n&&(n.stop(),this.timers_active--,this._end())},deleteMeasurement:function(t){var e=this._tmap[t];if(!e)return!1;delete this._tmap[t],e.isActive()&&this.timers_active--;for(var n=0,i=this.timers.length;i>n;n++)e===this.timers[n]&&this.timers[n].splice(n,1);this._end()},toJSON:function(){for(var t=[],e=0,n=this.timers.length;n>e;e++)t.push(this.timers[e].toJSON());return{name:this.name,value:this.value,tags:this.tags,timers:t}}},t.exports=i},function(t,e,n){function i(){this._pool=[],this._timer=0,this._send=this.send.bind(this)}var s=n(1);i.prototype={push:function(t){this._pool.push(t),this._timer||(this._timer=setTimeout(this._send,s.getInstance().batchTimeout))},abort:function(){this._timer&&(clearTimeout(this._timer),this._timer=0),this._pool=[]},_getData:function(){for(var t=[],e=0,n=this._pool.length;n>e;e++)t[e]=this._pool[e].toJSON();return this._pool=[],t},send:function(){this._timer=0;var t=s.getInstance().url,e=this._getData(),n=s.getInstance().getTransport();n(t,e)}},i.getInstance=function(){return this._instance||(this._instance=new this),this._instance},t.exports=i},function(t,e,n){function i(t){for(var e=[],n=0,i=t.length;i>n;n++)t[n].complete||"-1"==t[n].fileSize||(e[e.length]=t[n]);return e}function s(t){function e(){return n=i(n),n.length?o=setTimeout(e,50):(t.stopMeasurement("load_img"),a=o=0),n.length}if("ie8"!=$u.ua&&"ie9"!=$u.ua&&"ie10"!=$u.ua){o&&(clearTimeout(o),o=0,a.stopMeasurement("load_img")),a=t,t.startMeasurement("load_img","load_img");var n=document.images;e()}}var a,o=0;t.exports=s},function(t,e,n){function i(t,e){function n(){t.addMeasurement("dns",s.domainLookupEnd-s.domainLookupStart),t.addMeasurement("connect",s.connectEnd-s.connectStart),t.addMeasurement("wait",s.responseStart-s.connectEnd),t.addMeasurement("photo_load",s.loadEventEnd-s.domContentLoadedEventEnd),t.addMeasurement("on_load",s.loadEventEnd-a),t.addMeasurement("response",s.responseEnd-s.responseStart),t.addMeasurement("dom_loading",s.domInteractive-s.responseEnd),t.addMeasurement("dom_interactive",s.domContentLoadedEventStart-s.domInteractive),t.addMeasurement("dom_loaded",s.domContentLoadedEventEnd-s.domContentLoadedEventStart),t.addMeasurement("ttfb",s.responseStart-a),t.addMeasurement("backend",s.responseEnd-a),t.addMeasurement("dom_ready",s.domContentLoadedEventStart-a),e||t.addMeasurement("usable",s.domContentLoadedEventEnd-a),t.deleteMeasurement("nav-timing")}function i(){setTimeout(n,0)}var s="undefined"!=typeof window&&window.performance&&window.performance.timing;if(s){var a=s.navigationStart||s.fetchStart;if(!a)return void t.addMeasurement("navtime_error",0);t.set_start(a),t.startMeasurement("nav-timing",""),window.addEventListener?window.addEventListener("load",i,!1):window.attachEvent("onload",i)}}t.exports=i}]);